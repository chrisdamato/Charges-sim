<html>
  <head>
    <title>N-Body Problem</title>
    <script type="text/javascript" src="protovis-d3.2.js"></script>
    <script type="text/javascript" src="pv.Sim.js"></script>
    <script type="text/javascript" src="pv.Forces.js"></script>
    <script type="text/javascript" src="pv.Constraint.js"></script>
    <script type="text/javascript" src="sims.js"></script>
    <style type="text/css">

body {
  margin: 0;
  background: #FFF;
}

    </style>
  </head>
  <body>
<script type="text/javascript">

var globals={
    w : document.body.clientWidth,
    h : document.body.clientHeight,
    size: 2
}

var nodes, sim, vis;

var model=new mono(globals);

nodes=model.initNodes();
sim=model.initSim();
vis=model.initVis();

document.onclick = function (e) {
    //var q=parseInt(Math.random()*3+1)*(Math.random()*2<1?-1:1)
    var q = (Math.random() * 2 < 1 ? -1 : 1);
    var n = {
        x: e.pageX,
        y: e.pageY,
        q: -1,
        r: globals.size,
        m1: 1
    };
    nodes[nodes.length] = n;
    sim.particle(nodes[nodes.length - 1])
};

//setInterval(function () {
//    window.location = window.location
//}, 30 * 000);


setInterval(function () {
    sim.step();
    vis.render();
}, 42);

</script>
  </body>
</html>
